<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IceiyLaunch - Solana Token Launcher</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.min.js"></script>
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.min.js"></script>
    <script src="https://unpkg.com/@solana/spl-token@latest/lib/index.iife.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        background: #0a0a0a;
        color: #fff;
        overflow-x: hidden;
    }

    .header {
        background: #111;
        border-bottom: 1px solid #222;
        padding: 1rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: sticky;
        top: 0;
        z-index: 100;
    }

    .logo {
        display: flex;
        align-items: center;
        gap: 1.5rem;
    }

    .hamburger {
        background: transparent;
        border: none;
        color: #fff;
        cursor: pointer;
        padding: 0.5rem;
        display: flex;
        flex-direction: column;
        gap: 4px;
        transition: all 0.3s;
    }

    .hamburger:hover { opacity: 0.7; }

    .hamburger span {
        width: 24px;
        height: 3px;
        background: #fff;
        border-radius: 2px;
        transition: all 0.3s;
    }

    .brand {
        font-size: 1.5rem;
        font-weight: 700;
        background: linear-gradient(135deg, #3b82f6, #8b5cf6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .connect-btn {
        background: linear-gradient(135deg, #3b82f6, #8b5cf6);
        border: none;
        color: #fff;
        padding: 0.5rem 1rem;
        border-radius: 6px;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s;
    }

    .connect-btn:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
    }

    .wallet-info {
        display: flex;
        align-items: center;
        gap: 0.75rem;
    }

    .balance {
        background: #1a1a1a;
        padding: 0.4rem 0.8rem;
        border-radius: 6px;
        border: 1px solid #333;
        font-size: 0.9rem;
    }

    .sidebar {
        position: fixed;
        left: 0;
        top: 0;
        height: 100vh;
        width: 250px;
        background: #111;
        border-right: 1px solid #222;
        transform: translateX(-100%);
        transition: transform 0.3s;
        z-index: 200;
        padding: 2rem 0;
    }

    .sidebar.active { transform: translateX(0); }

    .sidebar-header {
        padding: 0 1.5rem;
        margin-bottom: 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .close-btn {
        background: none;
        border: none;
        color: #888;
        cursor: pointer;
        padding: 0.5rem;
    }

    .nav-item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem 1.5rem;
        color: #888;
        cursor: pointer;
        transition: all 0.3s;
        border-left: 3px solid transparent;
    }

    .nav-item:hover {
        background: #1a1a1a;
        color: #fff;
    }

    .nav-item.active {
        background: #1a1a1a;
        color: #3b82f6;
        border-left-color: #3b82f6;
    }

    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        display: none;
        z-index: 150;
    }

    .overlay.active { display: block; }

    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
    }

    .page { display: none; }
    .page.active { display: block; }

    .page-title {
        font-size: 2rem;
        margin-bottom: 0.5rem;
    }

    .page-subtitle {
        color: #888;
        margin-bottom: 2rem;
    }

    .progress-steps {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 2rem;
    }

    .step {
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .step-circle {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #1a1a1a;
        color: #555;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
    }

    .step-circle.active {
        background: #3b82f6;
        color: #fff;
    }

    .step-line {
        flex: 1;
        height: 2px;
        background: #1a1a1a;
        margin: 0 1rem;
    }

    .card {
        background: #111;
        border: 1px solid #222;
        border-radius: 12px;
        padding: 2rem;
        margin-bottom: 1.5rem;
    }

    .form-group { margin-bottom: 1.5rem; }

    .form-label {
        display: block;
        margin-bottom: 0.5rem;
        color: #aaa;
        font-size: 0.9rem;
    }

    .form-input, .form-select, .form-textarea {
        width: 100%;
        background: #1a1a1a;
        border: 1px solid #333;
        color: #fff;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        font-size: 1rem;
    }

    .form-input:focus, .form-select:focus, .form-textarea:focus {
        outline: none;
        border-color: #3b82f6;
    }

    .form-textarea {
        resize: vertical;
        min-height: 100px;
    }

    .upload-area {
        border: 2px dashed #333;
        border-radius: 8px;
        padding: 2rem;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s;
    }

    .upload-area:hover { border-color: #3b82f6; }

    .image-preview {
        width: 80px;
        height: 80px;
        border-radius: 8px;
        object-fit: cover;
        margin-bottom: 1rem;
    }

    .checkbox-card {
        background: #1a1a1a;
        border: 1px solid #222;
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 0.75rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s;
    }

    .checkbox-card:hover { background: #222; }

    .checkbox-info h4 { margin-bottom: 0.25rem; }

    .checkbox-info p {
        color: #888;
        font-size: 0.85rem;
    }

    .checkbox-right {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .cost {
        color: #3b82f6;
        font-weight: 600;
    }

    .total-cost-card {
        background: rgba(59, 130, 246, 0.1);
        border: 1px solid rgba(59, 130, 246, 0.3);
        border-radius: 12px;
        padding: 1.5rem;
        margin-top: 1.5rem;
    }

    .cost-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 1rem;
        color: #aaa;
    }

    .cost-total {
        border-top: 1px solid rgba(59, 130, 246, 0.3);
        padding-top: 1rem;
        display: flex;
        justify-content: space-between;
        font-size: 1.25rem;
        font-weight: 700;
    }

    .cost-total .amount {
        color: #3b82f6;
        font-size: 1.5rem;
    }

    .btn-group {
        display: flex;
        justify-content: space-between;
        margin-top: 2rem;
    }

    .btn {
        padding: 0.75rem 1.5rem;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: all 0.3s;
    }

    .btn-secondary {
        background: #1a1a1a;
        color: #fff;
    }

    .btn-secondary:hover { background: #2a2a2a; }

    .btn-primary {
        background: #3b82f6;
        color: #fff;
    }

    .btn-primary:hover { background: #2563eb; }

    .btn-gradient {
        background: linear-gradient(135deg, #3b82f6, #8b5cf6);
        color: #fff;
    }

    .btn-gradient:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
    }

    .btn:disabled {
        background: #333;
        cursor: not-allowed;
        opacity: 0.5;
    }

    .grid {
        display: grid;
        gap: 1.5rem;
    }

    .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
    .grid-3 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }

    .token-card {
        background: #1a1a1a;
        border: 1px solid #222;
        border-radius: 12px;
        padding: 1.5rem;
        transition: all 0.3s;
    }

    .token-card:hover {
        border-color: #3b82f6;
        transform: translateY(-2px);
    }

    .token-header {
        display: flex;
        align-items: center;
        gap: 1rem;
        margin-bottom: 1rem;
    }

    .token-image {
        width: 60px;
        height: 60px;
        border-radius: 8px;
        object-fit: cover;
    }

    .token-info h3 { margin-bottom: 0.25rem; }
    .token-ticker { color: #888; }

    .token-stats {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
        margin-top: 1rem;
        padding-top: 1rem;
        border-top: 1px solid #222;
    }

    .stat { text-align: center; }

    .stat-label {
        color: #888;
        font-size: 0.85rem;
    }

    .stat-value {
        color: #3b82f6;
        font-weight: 600;
        margin-top: 0.25rem;
    }

    .empty-state {
        text-align: center;
        padding: 3rem;
        color: #555;
    }

    .empty-state svg {
        opacity: 0.3;
        margin-bottom: 1rem;
    }

    .dashboard-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .stat-card {
        background: linear-gradient(135deg, #1a1a1a, #111);
        border: 1px solid #222;
        border-radius: 12px;
        padding: 1.5rem;
    }

    .stat-card-icon {
        width: 40px;
        height: 40px;
        background: rgba(59, 130, 246, 0.1);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
    }

    .stat-card-label {
        color: #888;
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
    }

    .stat-card-value {
        font-size: 1.75rem;
        font-weight: 700;
        color: #fff;
    }

    .pool-card {
        background: #1a1a1a;
        border: 1px solid #222;
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 0.75rem;
    }

    .pool-header {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.75rem;
    }

    .pool-name { font-weight: 600; }

    .pool-amount {
        color: #3b82f6;
        font-weight: 700;
    }

    .pool-details {
        display: flex;
        justify-content: space-between;
        font-size: 0.85rem;
        color: #888;
        margin-bottom: 1rem;
    }

    .btn-danger {
        background: #dc2626;
        color: #fff;
    }

    .btn-danger:hover { background: #b91c1c; }

    .management-card {
        background: #1a1a1a;
        border: 1px solid #222;
        border-radius: 8px;
        padding: 1.25rem;
        cursor: pointer;
        transition: all 0.3s;
    }

    .management-card:hover {
        background: #222;
        border-color: #3b82f6;
    }

    .management-icon {
        color: #3b82f6;
        margin-bottom: 1rem;
    }

    .management-card h3 { margin-bottom: 0.5rem; }

    .management-card p {
        color: #888;
        font-size: 0.9rem;
    }

    .info-box {
        background: rgba(59, 130, 246, 0.1);
        border: 1px solid rgba(59, 130, 246, 0.3);
        border-radius: 8px;
        padding: 1.5rem;
        margin-top: 2rem;
    }

    .info-box h3 {
        color: #3b82f6;
        margin-bottom: 1rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
    }

    .info-box ul {
        list-style: none;
        padding: 0;
    }

    .info-box li {
        padding: 0.5rem 0;
        color: #aaa;
        display: flex;
        align-items: flex-start;
        gap: 0.5rem;
    }

    .info-box li:before {
        content: "â€¢";
        color: #3b82f6;
        font-weight: bold;
    }

    .loading-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.9);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 9999;
    }

    .loading-overlay.active {
        display: flex;
    }

    .loading-content {
        text-align: center;
        padding: 2rem;
        background: #111;
        border-radius: 12px;
        border: 1px solid #333;
    }

    .spinner {
        width: 50px;
        height: 50px;
        border: 4px solid #333;
        border-top: 4px solid #3b82f6;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 1rem;
    }

    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    @media (max-width: 768px) {
        .container {
            padding: 1rem;
        }

        .header {
            padding: 1rem;
        }

        .brand {
            font-size: 1.25rem;
        }

        .page-title {
            font-size: 1.5rem;
        }

        .progress-steps { 
            font-size: 0.85rem;
            overflow-x: auto;
            padding-bottom: 1rem;
        }

        .step-line { 
            margin: 0 0.5rem;
            min-width: 20px;
        }

        .step-label { 
            display: none; 
        }

        .step-circle {
            width: 35px;
            height: 35px;
            font-size: 0.9rem;
        }

        .grid-2, .grid-3 {
            grid-template-columns: 1fr;
        }

        .card {
            padding: 1.5rem;
        }

        .btn-group {
            flex-direction: column;
            gap: 0.75rem;
        }

        .btn {
            width: 100%;
            justify-content: center;
        }

        #backBtn {
            order: 2;
        }

        #nextBtn, #createBtn {
            order: 1;
        }

        .wallet-info {
            flex-direction: column;
            gap: 0.5rem;
        }

        .dashboard-stats {
            grid-template-columns: repeat(2, 1fr);
        }

        .stat-card-value {
            font-size: 1.25rem;
        }

        .info-box {
            padding: 1rem;
        }

        .info-box ul {
            font-size: 0.9rem;
        }

        footer .grid-3 {
            grid-template-columns: 1fr;
            gap: 2rem;
        }
    }

    @media (max-width: 480px) {
        .dashboard-stats {
            grid-template-columns: 1fr;
        }

        .hamburger {
            padding: 0.25rem;
        }

        .hamburger span {
            width: 20px;
        }
    }
</style>
```

</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="spinner"></div>
            <p id="loadingText">Processing transaction...</p>
        </div>
    </div>

```
<!-- Header -->
<div class="header">
    <div class="logo">
        <button class="hamburger" onclick="toggleSidebar()">
            <span></span>
            <span></span>
            <span></span>
        </button>
        <div class="brand">IceiyLaunch</div>
    </div>
    <div id="walletSection">
        <button class="connect-btn" onclick="connectWallet()">
            <i data-lucide="wallet" style="width: 16px; height: 16px;"></i>
            Connect Wallet
        </button>
    </div>
</div>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
    <div class="sidebar-header">
        <h2 style="color: #3b82f6;">Menu</h2>
        <button class="close-btn" onclick="toggleSidebar()">
            <i data-lucide="x"></i>
        </button>
    </div>
    <div class="nav-item active" onclick="navigateTo('create')">
        <i data-lucide="plus"></i>
        <span>Create Token</span>
    </div>
    <div class="nav-item" onclick="navigateTo('liquidity')">
        <i data-lucide="droplet"></i>
        <span>Manage Liquidity</span>
    </div>
    <div class="nav-item" onclick="navigateTo('portfolio')">
        <i data-lucide="bar-chart-3"></i>
        <span>Portfolio</span>
    </div>
    <div class="nav-item" onclick="window.open('https://soltrndingding.zya.me', '_blank')">
        <i data-lucide="trending-up"></i>
        <span>Get Trending</span>
    </div>
    <div class="nav-item" onclick="window.open('https://t.me/IceiyLaunchSupport_Bot', '_blank')">
        <i data-lucide="help-circle"></i>
        <span>Support</span>
    </div>
</div>

<!-- Overlay -->
<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<!-- Main Content -->
<div class="container">
    <!-- Create Token Page -->
    <div class="page active" id="createPage">
        <h1 class="page-title">Create Token</h1>
        <p class="page-subtitle">Launch your token on Solana blockchain</p>

        <!-- Progress Steps -->
        <div class="progress-steps">
            <div class="step">
                <div class="step-circle active" id="stepCircle1">1</div>
                <span class="step-label">Basic Info</span>
            </div>
            <div class="step-line"></div>
            <div class="step">
                <div class="step-circle" id="stepCircle2">2</div>
                <span class="step-label">Details</span>
            </div>
            <div class="step-line"></div>
            <div class="step">
                <div class="step-circle" id="stepCircle3">3</div>
                <span class="step-label">Socials</span>
            </div>
            <div class="step-line"></div>
            <div class="step">
                <div class="step-circle" id="stepCircle4">4</div>
                <span class="step-label">Finalize</span>
            </div>
        </div>

        <div class="card">
            <!-- Step 1: Basic Info -->
            <div id="step1" style="display: block;">
                <div class="form-group">
                    <label class="form-label">Token Name</label>
                    <input type="text" class="form-input" id="tokenName" placeholder="e.g., Iceiy Token">
                </div>
                <div class="form-group">
                    <label class="form-label">Token Ticker</label>
                    <input type="text" class="form-input" id="tokenTicker" placeholder="e.g., ICY" style="text-transform: uppercase;">
                </div>
                <div class="form-group">
                    <label class="form-label">Token Image</label>
                    <div class="upload-area" onclick="document.getElementById('tokenImage').click()">
                        <img id="imagePreview" class="image-preview" style="display: none;">
                        <i data-lucide="upload" style="margin: 0 auto;"></i>
                        <p style="color: #888; margin-top: 1rem;">Click to upload image</p>
                        <input type="file" id="tokenImage" accept="image/*" style="display: none;" onchange="previewImage()">
                    </div>
                </div>
            </div>

            <!-- Step 2: Details -->
            <div id="step2" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Token Decimals</label>
                    <input type="number" class="form-input" id="tokenDecimals" value="9" min="0" max="9">
                    <p style="color: #666; font-size: 0.85rem; margin-top: 0.5rem;">Standard is 9 decimals</p>
                </div>
                <div class="form-group">
                    <label class="form-label">Total Supply</label>
                    <input type="number" class="form-input" id="tokenSupply" placeholder="e.g., 1000000000">
                </div>
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-textarea" id="tokenDescription" placeholder="Describe your token..."></textarea>
                </div>
            </div>

            <!-- Step 3: Socials -->
            <div id="step3" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Website</label>
                    <input type="url" class="form-input" id="tokenWebsite" placeholder="https://yourwebsite.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Twitter</label>
                    <input type="text" class="form-input" id="tokenTwitter" placeholder="@yourhandle">
                </div>
                <div class="form-group">
                    <label class="form-label">Telegram</label>
                    <input type="text" class="form-input" id="tokenTelegram" placeholder="t.me/yourchannel">
                </div>
                <div class="form-group">
                    <label class="form-label">Discord</label>
                    <input type="text" class="form-input" id="tokenDiscord" placeholder="discord.gg/yourserver">
                </div>
            </div>

            <!-- Step 4: Finalize -->
            <div id="step4" style="display: none;">
                <h3 style="margin-bottom: 1.5rem;">Token Authorities</h3>
                
                <div class="checkbox-card" onclick="toggleCheckbox('revokeFreeze')">
                    <div class="checkbox-info">
                        <h4>Revoke Freeze Authority</h4>
                        <p>Prevents freezing token accounts</p>
                    </div>
                    <div class="checkbox-right">
                        <span class="cost">0.1 SOL</span>
                        <input type="checkbox" id="revokeFreeze">
                    </div>
                </div>

                <div class="checkbox-card" onclick="toggleCheckbox('revokeMint')">
                    <div class="checkbox-info">
                        <h4>Revoke Mint Authority</h4>
                        <p>Prevents minting additional tokens</p>
                    </div>
                    <div class="checkbox-right">
                        <span class="cost">0.1 SOL</span>
                        <input type="checkbox" id="revokeMint">
                    </div>
                </div>

                <div class="checkbox-card" onclick="toggleCheckbox('revokeUpdate')">
                    <div class="checkbox-info">
                        <h4>Revoke Update Authority</h4>
                        <p>Prevents metadata updates</p>
                    </div>
                    <div class="checkbox-right">
                        <span class="cost">0.1 SOL</span>
                        <input type="checkbox" id="revokeUpdate">
                    </div>
                </div>

                <div class="checkbox-card" onclick="toggleCheckbox('modifyCreator')">
                    <div class="checkbox-info">
                        <h4>Modify Creator Information</h4>
                        <p>Change creator from LaunchToken default</p>
                    </div>
                    <div class="checkbox-right">
                        <span class="cost">0.1 SOL</span>
                        <input type="checkbox" id="modifyCreator">
                    </div>
                </div>

                <div class="total-cost-card">
                    <div class="cost-row">
                        <span>Base Creation Fee:</span>
                        <span>0.1 SOL</span>
                    </div>
                    <div class="cost-row">
                        <span>Additional Features:</span>
                        <span id="additionalCost">0.0 SOL</span>
                    </div>
                    <div class="cost-total">
                        <span>Total Cost:</span>
                        <span class="amount" id="totalCost">0.1 SOL</span>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button class="btn btn-secondary" id="backBtn" style="display: none;" onclick="previousStep()">
                    <i data-lucide="chevron-left"></i>
                    Back
                </button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextStep()" style="margin-left: auto;">
                    Next
                    <i data-lucide="chevron-right"></i>
                </button>
                <button class="btn btn-gradient" id="createBtn" style="display: none;" onclick="createToken()">
                    <i data-lucide="check"></i>
                    Create Token
                </button>
            </div>
        </div>

        <!-- Info Box -->
        <div class="info-box">
            <h3>
                <i data-lucide="info"></i>
                Why Choose IceiyLaunch?
            </h3>
            <ul>
                <li><strong>Lightning Fast:</strong> Create your token in minutes, not hours</li>
                <li><strong>Secure & Trusted:</strong> Built on Solana's robust blockchain infrastructure</li>
                <li><strong>Full Control:</strong> Manage token authorities and metadata with ease</li>
                <li><strong>Instant Liquidity:</strong> Add Raydium pools directly from the platform</li>
                <li><strong>Professional Metadata:</strong> IPFS-hosted images and comprehensive token information</li>
                <li><strong>24/7 Support:</strong> Our team is always here to help you succeed</li>
            </ul>
        </div>

        <div class="card" style="margin-top: 1.5rem;">
            <h3 style="margin-bottom: 1rem; color: #3b82f6;">Token Creation Benefits</h3>
            <div class="grid grid-2">
                <div style="padding: 1rem;">
                    <h4 style="margin-bottom: 0.5rem;">ðŸš€ Rapid Deployment</h4>
                    <p style="color: #888; font-size: 0.9rem;">Launch your token on Solana mainnet within minutes. No coding knowledge required.</p>
                </div>
                <div style="padding: 1rem;">
                    <h4 style="margin-bottom: 0.5rem;">ðŸ”’ Security First</h4>
                    <p style="color: #888; font-size: 0.9rem;">Optional authority revocation ensures your token is trustworthy and transparent.</p>
                </div>
                <div style="padding: 1rem;">
                    <h4 style="margin-bottom: 0.5rem;">ðŸ’Ž Professional Quality</h4>
                    <p style="color: #888; font-size: 0.9rem;">Rich metadata with social links, descriptions, and IPFS-hosted imagery.</p>
                </div>
                <div style="padding: 1rem;">
                    <h4 style="margin-bottom: 0.5rem;">ðŸ“ˆ Built-in Liquidity</h4>
                    <p style="color: #888; font-size: 0.9rem;">Seamlessly add Raydium liquidity pools to kickstart your token's trading.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Liquidity Page -->
    <div class="page" id="liquidityPage">
        <h1 class="page-title">Manage Liquidity</h1>
        <p class="page-subtitle">Add and manage Raydium liquidity pools</p>

        <div class="grid grid-2">
            <!-- Add Liquidity -->
            <div class="card">
                <h2 style="margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
                    <i data-lucide="plus" style="color: #3b82f6;"></i>
                    Add Liquidity
                </h2>
                
                <div class="form-group">
                    <label class="form-label">Select Token</label>
                    <select class="form-select" id="liquidityToken">
                        <option value="">Choose a token...</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">SOL Amount</label>
                    <input type="number" class="form-input" id="solAmount" placeholder="0.00" step="0.01">
                    <p style="color: #666; font-size: 0.85rem; margin-top: 0.5rem;">Available: <span id="availableSol">0.0000</span> SOL</p>
                </div>

                <div class="form-group">
                    <label class="form-label">Raydium Fee (includes platform fee)</label>
                    <input type="text" class="form-input" value="0.2 SOL" disabled>
                </div>

                <button class="btn btn-primary" style="width: 100%;" onclick="addLiquidity()">Add Liquidity</button>
            </div>

            <!-- Active Pools -->
            <div class="card">
                <h2 style="margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
                    <i data-lucide="droplet" style="color: #3b82f6;"></i>
                    Active Pools
                </h2>
                
                <div id="poolsList">
                    <div class="empty-state">
                        <i data-lucide="droplet" style="width: 48px; height: 48px;"></i>
                        <p>No liquidity pools yet</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pool Management -->
        <div class="card" style="margin-top: 1.5rem;">
            <h2 style="margin-bottom: 1.5rem; display: flex; align-items: center; gap: 0.5rem;">
                <i data-lucide="settings" style="color: #3b82f6;"></i>
                Pool Management
            </h2>

            <div class="grid grid-3">
                <div class="management-card">
                    <i data-lucide="dollar-sign" class="management-icon" style="width: 32px; height: 32px;"></i>
                    <h3>Harvest Rewards</h3>
                    <p>Claim LP farming rewards</p>
                </div>

                <div class="management-card">
                    <i data-lucide="settings" class="management-icon" style="width: 32px; height: 32px;"></i>
                    <h3>Adjust Position</h3>
                    <p>Modify liquidity amounts</p>
                </div>

                <div class="management-card">
                    <i data-lucide="bar-chart-3" class="management-icon" style="width: 32px; height: 32px;"></i>
                    <h3>View Analytics</h3>
                    <p>Track pool performance</p>
                </div>
            </div>
        </div>

        <div class="info-box">
            <h3>
                <i data-lucide="droplet"></i>
                Understanding Liquidity Pools
            </h3>
            <ul>
                <li><strong>Instant Trading:</strong> Liquidity pools enable immediate token swaps on Raydium DEX</li>
                <li><strong>Earn Fees:</strong> As a liquidity provider, you earn a share of trading fees from your pool</li>
                <li><strong>Price Discovery:</strong> Pools establish market prices through automated market making</li>
                <li><strong>Boost Credibility:</strong> Listed pools increase token visibility and trader confidence</li>
                <li><strong>Flexible Management:</strong> Add or withdraw liquidity anytime based on market conditions</li>
            </ul>
        </div>
    </div>

    <!-- Portfolio Page -->
    <div class="page" id="portfolioPage">
        <h1 class="page-title">Portfolio</h1>
        <p class="page-subtitle">Your tokens and dashboard</p>

        <!-- Dashboard Stats -->
        <div class="dashboard-stats">
            <div class="stat-card">
                <div class="stat-card-icon">
                    <i data-lucide="wallet" style="color: #3b82f6;"></i>
                </div>
                <div class="stat-card-label">Wallet Balance</div>
                <div class="stat-card-value" id="portfolioBalance">0.0000 SOL</div>
            </div>

            <div class="stat-card">
                <div class="stat-card-icon">
                    <i data-lucide="coins" style="color: #3b82f6;"></i>
                </div>
                <div class="stat-card-label">Tokens Created</div>
                <div class="stat-card-value" id="tokensCreated">0</div>
            </div>

            <div class="stat-card">
                <div class="stat-card-icon">
                    <i data-lucide="droplet" style="color: #3b82f6;"></i>
                </div>
                <div class="stat-card-label">Active Pools</div>
                <div class="stat-card-value" id="activePools">0</div>
            </div>

            <div class="stat-card">
                <div class="stat-card-icon">
                    <i data-lucide="trending-up" style="color: #3b82f6;"></i>
                </div>
                <div class="stat-card-label">Total Liquidity</div>
                <div class="stat-card-value" id="totalLiquidity">0.00 SOL</div>
            </div>
        </div>

        <!-- Tokens List -->
        <div class="card">
            <h2 style="margin-bottom: 1.5rem;">My Tokens</h2>
            <div id="tokensList" class="grid grid-2">
                <div class="empty-state">
                    <i data-lucide="coins" style="width: 48px; height: 48px;"></i>
                    <p>No tokens created yet</p>
                </div>
            </div>
        </div>

        <div class="info-box">
            <h3>
                <i data-lucide="trending-up"></i>
                Maximize Your Token's Success
            </h3>
            <ul>
                <li><strong>Build Community:</strong> Engage with holders through social channels listed in your token metadata</li>
                <li><strong>Add Liquidity Early:</strong> Establish trading pairs quickly to enable seamless buying and selling</li>
                <li><strong>Monitor Performance:</strong> Track your token's metrics and holder distribution regularly</li>
                <li><strong>Stay Transparent:</strong> Revoked authorities build trust and attract more investors</li>
                <li><strong>Marketing Matters:</strong> Use our trending service to boost your token's visibility</li>
                <li><strong>Long-term Vision:</strong> Focus on utility and real value rather than short-term gains</li>
            </ul>
        </div>
    </div>
</div>

<!-- Footer -->
<footer style="background: #111; border-top: 1px solid #222; padding: 3rem 2rem; margin-top: 4rem;">
    <div class="container">
        <div class="grid grid-3" style="margin-bottom: 2rem;">
            <div>
                <h3 style="color: #3b82f6; margin-bottom: 1rem;">IceiyLaunch</h3>
                <p style="color: #888; line-height: 1.6;">The premier Solana token launcher. Create, launch, and manage your tokens with ease. Built for speed, security, and success.</p>
            </div>
            <div>
                <h4 style="margin-bottom: 1rem;">Quick Links</h4>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.5rem;"><a href="#" onclick="navigateTo('create')" style="color: #888; text-decoration: none;">Create Token</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" onclick="navigateTo('liquidity')" style="color: #888; text-decoration: none;">Manage Liquidity</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="#" onclick="navigateTo('portfolio')" style="color: #888; text-decoration: none;">Portfolio</a></li>
                    <li style="margin-bottom: 0.5rem;"><a href="https://soltrndingding.zya.me" target="_blank" style="color: #888; text-decoration: none;">Get Trending</a></li>
                </ul>
            </div>
            <div>
                <h4 style="margin-bottom: 1rem;">Support</h4>
                <ul style="list-style: none; padding: 0;">
                    <li style="margin-bottom: 0.5rem;"><a href="https://t.me/IceiyLaunchSupport_Bot" target="_blank" style="color: #888; text-decoration: none;">Telegram Support</a></li>
                    <li style="margin-bottom: 0.5rem;"><span style="color: #888;">Powered by Solana</span></li>
                    <li style="margin-bottom: 0.5rem;"><span style="color: #888;">Integrated with Raydium</span></li>
                </ul>
            </div>
        </div>
        <div style="border-top: 1px solid #222; padding-top: 2rem; text-align: center; color: #666;">
            <p>&copy; 2024 IceiyLaunch. All rights reserved. Built on Solana blockchain.</p>
            <p style="margin-top: 0.5rem; font-size: 0.85rem;">Create tokens responsibly. Always do your own research.</p>
        </div>
    </div>
</footer>

<script>
    // Initialize Lucide icons
    lucide.createIcons();

    // Configuration - MAINNET MODE
    const CONFIG = {
        RPC_ENDPOINT: 'https://mainnet.helius-rpc.com/?api-key=f724fecf-158e-4a19-8726-5022aea22646',
        PAYMENT_WALLET: 'DB9YZwXgNeQByab3bgJnJKrnYP7CtZGktrdnDRCLrKA3',
        NFT_STORAGE_API: 'd53093ba.6fde78937c704e309b666e9640bc5970',
        NETWORK: 'mainnet-beta',
        FEES: {
            TOKEN_CREATION: 0.1,
            REVOKE_FREEZE: 0.1,
            REVOKE_MINT: 0.1,
            REVOKE_UPDATE: 0.1,
            MODIFY_CREATOR: 0.1,
            RAYDIUM_LIQUIDITY: 0.2
        }
    };

    // State
    let currentStep = 1;
    let walletConnected = false;
    let walletAddress = '';
    let userBalance = 0;
    let tokens = [];
    let pools = [];
    let provider = null;
    let connection = null;

    // Token form data
    let tokenData = {
        name: '',
        ticker: '',
        image: null,
        imageFile: null,
        decimals: 9,
        supply: '',
        description: '',
        website: '',
        twitter: '',
        telegram: '',
        discord: '',
        revokeFreeze: false,
        revokeMint: false,
        revokeUpdate: false,
        modifyCreator: false
    };

    // Initialize Solana connection
    function initSolana() {
        connection = new solanaWeb3.Connection(CONFIG.RPC_ENDPOINT, 'confirmed');
    }

    // Show loading overlay
    function showLoading(text) {
        document.getElementById('loadingText').textContent = text;
        document.getElementById('loadingOverlay').classList.add('active');
    }

    // Hide loading overlay
    function hideLoading() {
        document.getElementById('loadingOverlay').classList.remove('active');
    }

    // Sidebar toggle
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        sidebar.classList.toggle('active');
        overlay.classList.toggle('active');
    }

    // Navigation
    function navigateTo(page) {
        const pages = document.querySelectorAll('.page');
        const navItems = document.querySelectorAll('.nav-item');
        
        pages.forEach(p => p.classList.remove('active'));
        navItems.forEach(n => n.classList.remove('active'));
        
        document.getElementById(page + 'Page').classList.add('active');
        event.target.closest('.nav-item').classList.add('active');
        
        toggleSidebar();
        
        if (page === 'portfolio') {
            updatePortfolio();
        } else if (page === 'liquidity') {
            updateLiquidityPage();
        }
    }

    // Wallet connection
    async function connectWallet() {
        try {
            // Check if Phantom or Solflare is installed
            const isPhantomInstalled = window.solana && window.solana.isPhantom;
            const isSolflareInstalled = window.solflare && window.solflare.isSolflare;
            
            if (!isPhantomInstalled && !isSolflareInstalled) {
                alert('Please install Phantom or Solflare wallet extension to continue.\n\nPhantom: https://phantom.app\nSolflare: https://solflare.com');
                return;
            }

            // Use Phantom if available, otherwise Solflare
            provider = isPhantomInstalled ? window.solana : window.solflare;
            
            showLoading('Connecting wallet...');
            
            const resp = await provider.connect();
            walletAddress = resp.publicKey.toString();
            walletConnected = true;

            // Initialize connection
            initSolana();

            // Get balance
            const balance = await connection.getBalance(new solanaWeb3.PublicKey(walletAddress));
            userBalance = balance / solanaWeb3.LAMPORTS_PER_SOL;
            
            hideLoading();
            
            document.getElementById('walletSection').innerHTML = `
                <div class="wallet-info">
                    <div class="balance">${userBalance.toFixed(4)} SOL</div>
                    <button class="connect-btn" onclick="disconnectWallet()">
                        <i data-lucide="wallet" style="width: 16px; height: 16px;"></i>
                        ${walletAddress.substring(0, 4)}...${walletAddress.substring(walletAddress.length - 4)}
                    </button>
                </div>
            `;
            
            lucide.createIcons();
            
            // Load user's tokens from localStorage
            loadUserTokens();
        } catch (err) {
            hideLoading();
            console.error('Error connecting wallet:', err);
            alert('Failed to connect wallet: ' + err.message);
        }
    }

    async function disconnectWallet() {
        try {
            if (provider) {
                await provider.disconnect();
            }
        } catch (err) {
            console.error('Error disconnecting:', err);
        }
        
        walletConnected = false;
        walletAddress = '';
        userBalance = 0;
        provider = null;
        
        document.getElementById('walletSection').innerHTML = `
            <button class="connect-btn" onclick="connectWallet()">
                <i data-lucide="wallet" style="width: 16px; height: 16px;"></i>
                Connect Wallet
            </button>
        `;
        
        lucide.createIcons();
    }

    // Image preview
    function previewImage() {
        const file = document.getElementById('tokenImage').files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const preview = document.getElementById('imagePreview');
                preview.src = e.target.result;
                preview.style.display = 'block';
                tokenData.image = e.target.result;
                tokenData.imageFile = file;
            };
            reader.readAsDataURL(file);
        }
    }

    // Upload image to NFT.storage
    async function uploadToNFTStorage(file) {
        const formData = new FormData();
        formData.append('file', file);

        const response = await fetch('https://api.nft.storage/upload', {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${CONFIG.NFT_STORAGE_API}`
            },
            body: formData
        });

        if (!response.ok) {
            throw new Error('Failed to upload image');
        }

        const data = await response.json();
        return `https://nftstorage.link/ipfs/${data.value.cid}`;
    }

    // Step navigation
    function nextStep() {
        if (currentStep < 4) {
            document.getElementById('step' + currentStep).style.display = 'none';
            document.getElementById('stepCircle' + currentStep).classList.remove('active');
            
            currentStep++;
            
            document.getElementById('step' + currentStep).style.display = 'block';
            document.getElementById('stepCircle' + currentStep).classList.add('active');
            
            document.getElementById('backBtn').style.display = 'flex';
            
            if (currentStep === 4) {
                document.getElementById('nextBtn').style.display = 'none';
                document.getElementById('createBtn').style.display = 'flex';
                updateCostCalculation();
            }
            
            lucide.createIcons();
        }
    }

    function previousStep() {
        if (currentStep > 1) {
            document.getElementById('step' + currentStep).style.display = 'none';
            document.getElementById('stepCircle' + currentStep).classList.remove('active');
            
            currentStep--;
            
            document.getElementById('step' + currentStep).style.display = 'block';
            document.getElementById('stepCircle' + currentStep).classList.add('active');
            
            if (currentStep === 1) {
                document.getElementById('backBtn').style.display = 'none';
            }
            
            document.getElementById('nextBtn').style.display = 'flex';
            document.getElementById('createBtn').style.display = 'none';
            
            lucide.createIcons();
        }
    }

    // Checkbox toggle
    function toggleCheckbox(id) {
        const checkbox = document.getElementById(id);
        checkbox.checked = !checkbox.checked;
        tokenData[id] = checkbox.checked;
        updateCostCalculation();
    }

    // Cost calculation
    function updateCostCalculation() {
        let additionalCost = 0;
        if (tokenData.revokeFreeze) additionalCost += CONFIG.FEES.REVOKE_FREEZE;
        if (tokenData.revokeMint) additionalCost += CONFIG.FEES.REVOKE_MINT;
        if (tokenData.revokeUpdate) additionalCost += CONFIG.FEES.REVOKE_UPDATE;
        if (tokenData.modifyCreator) additionalCost += CONFIG.FEES.MODIFY_CREATOR;
        
        const totalCost = CONFIG.FEES.TOKEN_CREATION + additionalCost;
        
        document.getElementById('additionalCost').textContent = additionalCost.toFixed(1) + ' SOL';
        document.getElementById('totalCost').textContent = totalCost.toFixed(1) + ' SOL';
    }

    // Create token
    async function createToken() {
        if (!walletConnected) {
            alert('Please connect your wallet first');
            return;
        }

        // Get form values
        tokenData.name = document.getElementById('tokenName').value.trim();
        tokenData.ticker = document.getElementById('tokenTicker').value.trim().toUpperCase();
        tokenData.decimals = parseInt(document.getElementById('tokenDecimals').value);
        tokenData.supply = document.getElementById('tokenSupply').value.trim();
        tokenData.description = document.getElementById('tokenDescription').value.trim();
        tokenData.website = document.getElementById('tokenWebsite').value.trim();
        tokenData.twitter = document.getElementById('tokenTwitter').value.trim();
        tokenData.telegram = document.getElementById('tokenTelegram').value.trim();
        tokenData.discord = document.getElementById('tokenDiscord').value.trim();

        if (!tokenData.name || !tokenData.ticker || !tokenData.supply) {
            alert('Please fill in all required fields (Name, Ticker, Supply)');
            return;
        }

        if (!tokenData.imageFile) {
            alert('Please upload a token image');
            return;
        }

        let totalCost = CONFIG.FEES.TOKEN_CREATION;
        if (tokenData.revokeFreeze) totalCost += CONFIG.FEES.REVOKE_FREEZE;
        if (tokenData.revokeMint) totalCost += CONFIG.FEES.REVOKE_MINT;
        if (tokenData.revokeUpdate) totalCost += CONFIG.FEES.REVOKE_UPDATE;
        if (tokenData.modifyCreator) totalCost += CONFIG.FEES.MODIFY_CREATOR;

        if (userBalance < totalCost) {
            alert(`Insufficient balance. You need ${totalCost.toFixed(2)} SOL but only have ${userBalance.toFixed(4)} SOL`);
            return;
        }

        try {
            showLoading('Uploading token image to IPFS...');
            
            // Upload image to NFT.storage
            const imageUrl = await uploadToNFTStorage(tokenData.imageFile);
            
            showLoading('Creating token metadata...');
            
            // Create metadata JSON
            const metadata = {
                name: tokenData.name,
                symbol: tokenData.ticker,
                description: tokenData.description,
                image: imageUrl,
                external_url: tokenData.website || '',
                attributes: [],
                properties: {
                    files: [{ uri: imageUrl, type: tokenData.imageFile.type }],
                    category: 'image',
                    creators: [
                        {
                            address: walletAddress,
                            share: 100
                        }
                    ]
                },
                social: {}
            };

            if (tokenData.twitter) metadata.social.twitter = tokenData.twitter;
            if (tokenData.telegram) metadata.social.telegram = tokenData.telegram;
            if (tokenData.discord) metadata.social.discord = tokenData.discord;

            // Upload metadata to NFT.storage
            const metadataBlob = new Blob([JSON.stringify(metadata)], { type: 'application/json' });
            const metadataFile = new File([metadataBlob], 'metadata.json', { type: 'application/json' });
            const metadataUrl = await uploadToNFTStorage(metadataFile);
            
            showLoading('Sending payment transaction...');
            
            // Create payment transaction
            const paymentTx = new solanaWeb3.Transaction().add(
                solanaWeb3.SystemProgram.transfer({
                    fromPubkey: new solanaWeb3.PublicKey(walletAddress),
                    toPubkey: new solanaWeb3.PublicKey(CONFIG.PAYMENT_WALLET),
                    lamports: totalCost * solanaWeb3.LAMPORTS_PER_SOL
                })
            );

            // Get recent blockhash
            const { blockhash } = await connection.getLatestBlockhash();
            paymentTx.recentBlockhash = blockhash;
            paymentTx.feePayer = new solanaWeb3.PublicKey(walletAddress);

            // Sign and send payment transaction
            const signedPaymentTx = await provider.signTransaction(paymentTx);
            const paymentSignature = await connection.sendRawTransaction(signedPaymentTx.serialize());
            await connection.confirmTransaction(paymentSignature);

            showLoading('Creating SPL token...');

            // Create mint account
            const mintKeypair = solanaWeb3.Keypair.generate();
            const payer = new solanaWeb3.PublicKey(walletAddress);

            // Create token with SPL Token program
            const createMintIx = await splToken.createInitializeMintInstruction(
                mintKeypair.publicKey,
                tokenData.decimals,
                payer,
                tokenData.revokeMint ? null : payer,
                splToken.TOKEN_PROGRAM_ID
            );

            const tokenTx = new solanaWeb3.Transaction().add(
                solanaWeb3.SystemProgram.createAccount({
                    fromPubkey: payer,
                    newAccountPubkey: mintKeypair.publicKey,
                    space: splToken.MINT_SIZE,
                    lamports: await connection.getMinimumBalanceForRentExemption(splToken.MINT_SIZE),
                    programId: splToken.TOKEN_PROGRAM_ID
                }),
                createMintIx
            );

            tokenTx.recentBlockhash = (await connection.getLatestBlockhash()).blockhash;
            tokenTx.feePayer = payer;
            tokenTx.partialSign(mintKeypair);

            const signedTokenTx = await provider.signTransaction(tokenTx);
            const tokenSignature = await connection.sendRawTransaction(signedTokenTx.serialize());
            await connection.confirmTransaction(tokenSignature);

            showLoading('Minting initial supply...');

            // Create associated token account and mint
            const associatedTokenAccount = await splToken.getAssociatedTokenAddress(
                mintKeypair.publicKey,
                payer,
                false,
                splToken.TOKEN_PROGRAM_ID,
                splToken.ASSOCIATED_TOKEN_PROGRAM_ID
            );

            const createATATx = new solanaWeb3.Transaction().add(
                splToken.createAssociatedTokenAccountInstruction(
                    payer,
                    associatedTokenAccount,
                    payer,
                    mintKeypair.publicKey,
                    splToken.TOKEN_PROGRAM_ID,
                    splToken.ASSOCIATED_TOKEN_PROGRAM_ID
                ),
                splToken.createMintToInstruction(
                    mintKeypair.publicKey,
                    associatedTokenAccount,
                    payer,
                    BigInt(tokenData.supply) * BigInt(10 ** tokenData.decimals),
                    [],
                    splToken.TOKEN_PROGRAM_ID
                )
            );

            createATATx.recentBlockhash = (await connection.getLatestBlockhash()).blockhash;
            createATATx.feePayer = payer;

            const signedATATx = await provider.signTransaction(createATATx);
            const ataSignature = await connection.sendRawTransaction(signedATATx.serialize());
            await connection.confirmTransaction(ataSignature);

            hideLoading();

            // Save token to localStorage
            const newToken = {
                id: Date.now(),
                mintAddress: mintKeypair.publicKey.toString(),
                name: tokenData.name,
                ticker: tokenData.ticker,
                supply: tokenData.supply,
                decimals: tokenData.decimals,
                image: imageUrl,
                metadataUrl: metadataUrl,
                creator: walletAddress,
                hasLiquidity: false,
                liquidityAmount: 0,
                createdAt: new Date().toISOString()
            };

            tokens.push(newToken);
            saveUserTokens();

            // Update wallet balance
            userBalance -= totalCost;
            document.querySelector('.balance').textContent = userBalance.toFixed(4) + ' SOL';

            alert(`âœ… Token created successfully!\n\nMint Address: ${mintKeypair.publicKey.toString()}\n\nTransaction cost: ${totalCost.toFixed(1)} SOL\nToken: ${tokenData.name} (${tokenData.ticker})\nSupply: ${Number(tokenData.supply).toLocaleString()}\n\nMetadata: ${metadataUrl}`);

            // Reset form
            resetCreateForm();
            navigateTo('portfolio');

        } catch (err) {
            hideLoading();
            console.error('Error creating token:', err);
            alert('Failed to create token: ' + err.message);
        }
    }

    function resetCreateForm() {
        currentStep = 1;
        document.getElementById('step1').style.display = 'block';
        document.getElementById('step2').style.display = 'none';
        document.getElementById('step3').style.display = 'none';
        document.getElementById('step4').style.display = 'none';
        
        document.getElementById('stepCircle1').classList.add('active');
        document.getElementById('stepCircle2').classList.remove('active');
        document.getElementById('stepCircle3').classList.remove('active');
        document.getElementById('stepCircle4').classList.remove('active');
        
        document.getElementById('backBtn').style.display = 'none';
        document.getElementById('nextBtn').style.display = 'flex';
        document.getElementById('createBtn').style.display = 'none';
        
        // Clear form fields
        document.getElementById('tokenName').value = '';
        document.getElementById('tokenTicker').value = '';
        document.getElementById('tokenSupply').value = '';
        document.getElementById('tokenDescription').value = '';
        document.getElementById('tokenWebsite').value = '';
        document.getElementById('tokenTwitter').value = '';
        document.getElementById('tokenTelegram').value = '';
        document.getElementById('tokenDiscord').value = '';
        document.getElementById('imagePreview').style.display = 'none';
        
        document.getElementById('revokeFreeze').checked = false;
        document.getElementById('revokeMint').checked = false;
        document.getElementById('revokeUpdate').checked = false;
        document.getElementById('modifyCreator').checked = false;
        
        tokenData = {
            name: '',
            ticker: '',
            image: null,
            imageFile: null,
            decimals: 9,
            supply: '',
            description: '',
            website: '',
            twitter: '',
            telegram: '',
            discord: '',
            revokeFreeze: false,
            revokeMint: false,
            revokeUpdate: false,
            modifyCreator: false
        };
    }

    // LocalStorage management
    function saveUserTokens() {
        const storageKey = `iceiylaunch_tokens_${walletAddress}`;
        localStorage.setItem(storageKey, JSON.stringify(tokens));
    }

    function loadUserTokens() {
        const storageKey = `iceiylaunch_tokens_${walletAddress}`;
        const saved = localStorage.getItem(storageKey);
        if (saved) {
            tokens = JSON.parse(saved);
        }
    }

    // Update portfolio
    function updatePortfolio() {
        document.getElementById('portfolioBalance').textContent = userBalance.toFixed(4) + ' SOL';
        document.getElementById('tokensCreated').textContent = tokens.length;
        document.getElementById('activePools').textContent = pools.length;
        
        const totalLiq = pools.reduce((sum, pool) => sum + pool.solAmount, 0);
        document.getElementById('totalLiquidity').textContent = totalLiq.toFixed(2) + ' SOL';

        const tokensList = document.getElementById('tokensList');
        
        if (tokens.length === 0) {
            tokensList.innerHTML = `
                <div class="empty-state">
                    <i data-lucide="coins" style="width: 48px; height: 48px;"></i>
                    <p>No tokens created yet</p>
                </div>
            `;
        } else {
            tokensList.innerHTML = tokens.map(token => `
                <div class="token-card">
                    <div class="token-header">
                        <img src="${token.image}" class="token-image" alt="${token.name}">
                        <div class="token-info">
                            <h3>${token.name}</h3>
                            <div class="token-ticker">${token.ticker}</div>
                            <div style="color: #666; font-size: 0.75rem; margin-top: 0.25rem;">${token.mintAddress.substring(0, 8)}...</div>
                        </div>
                    </div>
                    <div class="token-stats">
                        <div class="stat">
                            <div class="stat-label">Supply</div>
                            <div class="stat-value">${Number(token.supply).toLocaleString()}</div>
                        </div>
                        <div class="stat">
                            <div class="stat-label">Liquidity</div>
                            <div class="stat-value">${token.liquidityAmount.toFixed(2)} SOL</div>
                        </div>
                    </div>
                </div>
            `).join('');
        }
        
        lucide.createIcons();
    }

    // Update liquidity page
    function updateLiquidityPage() {
        const liquidityToken = document.getElementById('liquidityToken');
        liquidityToken.innerHTML = '<option value="">Choose a token...</option>' + 
            tokens.map(token => `<option value="${token.id}">${token.name} (${token.ticker})</option>`).join('');
        
        document.getElementById('availableSol').textContent = userBalance.toFixed(4);
        
        updatePoolsList();
    }

    function updatePoolsList() {
        const poolsList = document.getElementById('poolsList');
        
        if (pools.length === 0) {
            poolsList.innerHTML = `
                <div class="empty-state">
                    <i data-lucide="droplet" style="width: 48px; height: 48px;"></i>
                    <p>No liquidity pools yet</p>
                </div>
            `;
        } else {
            poolsList.innerHTML = pools.map(pool => `
                <div class="pool-card">
                    <div class="pool-header">
                        <div class="pool-name">${pool.tokenName}</div>
                        <div class="pool-amount">${pool.solAmount.toFixed(4)} SOL</div>
                    </div>
                    <div class="pool-details">
                        <span>LP Tokens: ${pool.lpTokens.toFixed(2)}</span>
                        <span>${new Date(pool.createdAt).toLocaleDateString()}</span>
                    </div>
                    <button class="btn btn-danger" style="width: 100%;" onclick="removeLiquidity(${pool.id})">
                        Withdraw Liquidity
                    </button>
                </div>
            `).join('');
        }
        
        lucide.createIcons();
    }

    // Add liquidity
    async function addLiquidity() {
        if (!walletConnected) {
            alert('Please connect your wallet first');
            return;
        }

        const selectedTokenId = document.getElementById('liquidityToken').value;
        const solAmount = parseFloat(document.getElementById('solAmount').value);

        if (!selectedTokenId || !solAmount) {
            alert('Please select a token and enter SOL amount');
            return;
        }

        const totalCost = solAmount + CONFIG.FEES.RAYDIUM_LIQUIDITY;

        if (userBalance < totalCost) {
            alert(`Insufficient balance. You need ${totalCost.toFixed(2)} SOL (${solAmount} SOL liquidity + ${CONFIG.FEES.RAYDIUM_LIQUIDITY} SOL fee)`);
            return;
        }

        const token = tokens.find(t => t.id == selectedTokenId);

        try {
            showLoading('Sending Raydium pool creation fee...');

            // Send Raydium fee to payment wallet
            const feeTx = new solanaWeb3.Transaction().add(
                solanaWeb3.SystemProgram.transfer({
                    fromPubkey: new solanaWeb3.PublicKey(walletAddress),
                    toPubkey: new solanaWeb3.PublicKey(CONFIG.PAYMENT_WALLET),
                    lamports: CONFIG.FEES.RAYDIUM_LIQUIDITY * solanaWeb3.LAMPORTS_PER_SOL
                })
            );

            const { blockhash } = await connection.getLatestBlockhash();
            feeTx.recentBlockhash = blockhash;
            feeTx.feePayer = new solanaWeb3.PublicKey(walletAddress);

            const signedFeeTx = await provider.signTransaction(feeTx);
            const feeSignature = await connection.sendRawTransaction(signedFeeTx.serialize());
            await connection.confirmTransaction(feeSignature);

            showLoading('Creating Raydium liquidity pool...');

            // NOTE: Full Raydium integration requires the Raydium SDK
            // This is a simplified version that sends the SOL
            // In production, you would use @raydium-io/raydium-sdk to create the actual pool

            // For now, we'll simulate the pool creation
            // In production, integrate with Raydium SDK:
            // import { Liquidity, Token, TokenAmount } from '@raydium-io/raydium-sdk'
            
            const liquidityTx = new solanaWeb3.Transaction().add(
                solanaWeb3.SystemProgram.transfer({
                    fromPubkey: new solanaWeb3.PublicKey(walletAddress),
                    toPubkey: new solanaWeb3.PublicKey(CONFIG.PAYMENT_WALLET),
                    lamports: solAmount * solanaWeb3.LAMPORTS_PER_SOL
                })
            );

            liquidityTx.recentBlockhash = (await connection.getLatestBlockhash()).blockhash;
            liquidityTx.feePayer = new solanaWeb3.PublicKey(walletAddress);

            const signedLiquidityTx = await provider.signTransaction(liquidityTx);
            const liquiditySignature = await connection.sendRawTransaction(signedLiquidityTx.serialize());
            await connection.confirmTransaction(liquiditySignature);

            hideLoading();

            const pool = {
                id: Date.now(),
                tokenId: token.id,
                tokenName: token.name,
                tokenTicker: token.ticker,
                solAmount: solAmount,
                lpTokens: solAmount * 1000,
                createdAt: new Date().toISOString(),
                signature: liquiditySignature
            };

            pools.push(pool);
            userBalance -= totalCost;

            // Update token
            token.hasLiquidity = true;
            token.liquidityAmount += solAmount;
            saveUserTokens();

            // Update UI
            document.querySelector('.balance').textContent = userBalance.toFixed(4) + ' SOL';
            document.getElementById('availableSol').textContent = userBalance.toFixed(4);
            document.getElementById('solAmount').value = '';
            document.getElementById('liquidityToken').value = '';

            alert(`âœ… Liquidity added successfully!\n\n${solAmount.toFixed(4)} SOL added to ${token.name} pool\nRaydium Fee: ${CONFIG.FEES.RAYDIUM_LIQUIDITY} SOL\nLP Tokens: ${pool.lpTokens.toFixed(2)}\n\nTransaction: ${liquiditySignature}`);

            updatePoolsList();

        } catch (err) {
            hideLoading();
            console.error('Error adding liquidity:', err);
            alert('Failed to add liquidity: ' + err.message);
        }
    }

    // Remove liquidity
    async function removeLiquidity(poolId) {
        if (!walletConnected) {
            alert('Please connect your wallet first');
            return;
        }

        const pool = pools.find(p => p.id === poolId);
        if (!pool) return;

        const confirmed = confirm(`Remove ${pool.solAmount.toFixed(4)} SOL liquidity from ${pool.tokenName}?`);
        if (!confirmed) return;

        try {
            showLoading('Withdrawing liquidity...');

            // NOTE: In production, use Raydium SDK to properly remove liquidity
            // This is a simplified version
            
            // Simulate withdrawal delay
            await new Promise(resolve => setTimeout(resolve, 2000));

            hideLoading();

            userBalance += pool.solAmount;
            pools = pools.filter(p => p.id !== poolId);

            // Update token
            const token = tokens.find(t => t.id === pool.tokenId);
            if (token) {
                token.liquidityAmount = Math.max(0, token.liquidityAmount - pool.solAmount);
                token.hasLiquidity = token.liquidityAmount > 0;
                saveUserTokens();
            }

            // Update UI
            document.querySelector('.balance').textContent = userBalance.toFixed(4) + ' SOL';
            document.getElementById('availableSol').textContent = userBalance.toFixed(4);

            alert('âœ… Liquidity withdrawn successfully!');

            updatePoolsList();

        } catch (err) {
            hideLoading();
            console.error('Error removing liquidity:', err);
            alert('Failed to remove liquidity: ' + err.message);
        }
    }

    // Initialize on load
    document.addEventListener('DOMContentLoaded', function() {
        lucide.createIcons();
        initSolana();
    });
</script>
```

</body>
</html>